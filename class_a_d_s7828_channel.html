<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>i2c_adc_ads7828: ADS7828Channel Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">i2c_adc_ads7828
   </div>
   <div id="projectbrief">Arduino library for TI ADS7828 I2C A/D converter.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_a_d_s7828_channel.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="class_a_d_s7828_channel-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ADS7828Channel Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for ADS7828Channel:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_d_s7828_channel__coll__graph.png" border="0" usemap="#_a_d_s7828_channel_coll__map" alt="Collaboration graph"/></div>
<map name="_a_d_s7828_channel_coll__map" id="_a_d_s7828_channel_coll__map">
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2885e498b51e624ca0e6be13c5d7049d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#a2885e498b51e624ca0e6be13c5d7049d">ADS7828Channel</a> (<a class="el" href="class_a_d_s7828.html">ADS7828</a> *const, uint8_t, uint8_t, uint16_t, uint16_t)</td></tr>
<tr class="separator:a2885e498b51e624ca0e6be13c5d7049d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade03373a3a798f8839e24f01b2df5a98"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#ade03373a3a798f8839e24f01b2df5a98">commandByte</a> ()</td></tr>
<tr class="memdesc:ade03373a3a798f8839e24f01b2df5a98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return command byte for channel object.  <a href="#ade03373a3a798f8839e24f01b2df5a98"></a><br/></td></tr>
<tr class="separator:ade03373a3a798f8839e24f01b2df5a98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23c4b3feb7906925490006c89a0bd6b8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_a_d_s7828.html">ADS7828</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#a23c4b3feb7906925490006c89a0bd6b8">device</a> ()</td></tr>
<tr class="memdesc:a23c4b3feb7906925490006c89a0bd6b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return pointer to parent device object.  <a href="#a23c4b3feb7906925490006c89a0bd6b8"></a><br/></td></tr>
<tr class="separator:a23c4b3feb7906925490006c89a0bd6b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae736e4230d1c726c74f08aa91d754032"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#ae736e4230d1c726c74f08aa91d754032">id</a> ()</td></tr>
<tr class="memdesc:ae736e4230d1c726c74f08aa91d754032"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return ID number of channel object (+IN connection).  <a href="#ae736e4230d1c726c74f08aa91d754032"></a><br/></td></tr>
<tr class="separator:ae736e4230d1c726c74f08aa91d754032"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6de63f5707915f0d0c2c4ac3e1560d7"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#af6de63f5707915f0d0c2c4ac3e1560d7">index</a> ()</td></tr>
<tr class="memdesc:af6de63f5707915f0d0c2c4ac3e1560d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return index position within moving average array.  <a href="#af6de63f5707915f0d0c2c4ac3e1560d7"></a><br/></td></tr>
<tr class="separator:af6de63f5707915f0d0c2c4ac3e1560d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5701f667bfdb461f304805ae760d3c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#ab5701f667bfdb461f304805ae760d3c6">newSample</a> (uint16_t)</td></tr>
<tr class="memdesc:ab5701f667bfdb461f304805ae760d3c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add (unscaled) sample value to moving average array, update totalizer.  <a href="#ab5701f667bfdb461f304805ae760d3c6"></a><br/></td></tr>
<tr class="separator:ab5701f667bfdb461f304805ae760d3c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad582f45fd0b5c74fedcebafca0715915"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#ad582f45fd0b5c74fedcebafca0715915">reset</a> ()</td></tr>
<tr class="memdesc:ad582f45fd0b5c74fedcebafca0715915"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset moving average array, index, totalizer to zero.  <a href="#ad582f45fd0b5c74fedcebafca0715915"></a><br/></td></tr>
<tr class="separator:ad582f45fd0b5c74fedcebafca0715915"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4ff68784f62525fbee8dd9d0584e2c1"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#af4ff68784f62525fbee8dd9d0584e2c1">sample</a> ()</td></tr>
<tr class="memdesc:af4ff68784f62525fbee8dd9d0584e2c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return most-recent (unscaled) sample value from moving average array.  <a href="#af4ff68784f62525fbee8dd9d0584e2c1"></a><br/></td></tr>
<tr class="separator:af4ff68784f62525fbee8dd9d0584e2c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9204ca49ffa28e0ea681651a7afcf88"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#ad9204ca49ffa28e0ea681651a7afcf88">start</a> ()</td></tr>
<tr class="memdesc:ad9204ca49ffa28e0ea681651a7afcf88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate A/D conversion for channel object.  <a href="#ad9204ca49ffa28e0ea681651a7afcf88"></a><br/></td></tr>
<tr class="separator:ad9204ca49ffa28e0ea681651a7afcf88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0d1f73c4445a115f717b6c8b7f5e000"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#aa0d1f73c4445a115f717b6c8b7f5e000">total</a> ()</td></tr>
<tr class="memdesc:aa0d1f73c4445a115f717b6c8b7f5e000"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return (unscaled) totalizer value for channel object.  <a href="#aa0d1f73c4445a115f717b6c8b7f5e000"></a><br/></td></tr>
<tr class="separator:aa0d1f73c4445a115f717b6c8b7f5e000"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19e8ecf99f6c3847c7f26cf2157758b6"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#a19e8ecf99f6c3847c7f26cf2157758b6">update</a> ()</td></tr>
<tr class="memdesc:a19e8ecf99f6c3847c7f26cf2157758b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate A/D conversion, read data, update moving average for channel object.  <a href="#a19e8ecf99f6c3847c7f26cf2157758b6"></a><br/></td></tr>
<tr class="separator:a19e8ecf99f6c3847c7f26cf2157758b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b6c345cbe33c2444cf12f736d8d61da"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#a8b6c345cbe33c2444cf12f736d8d61da">value</a> ()</td></tr>
<tr class="memdesc:a8b6c345cbe33c2444cf12f736d8d61da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return moving average value for channel object.  <a href="#a8b6c345cbe33c2444cf12f736d8d61da"></a><br/></td></tr>
<tr class="separator:a8b6c345cbe33c2444cf12f736d8d61da"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a102c9efc602e060bced99d7d41b4fd90"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#a102c9efc602e060bced99d7d41b4fd90">maxScale</a></td></tr>
<tr class="memdesc:a102c9efc602e060bced99d7d41b4fd90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum value of moving average (defaults to 0x0FFF).  <a href="#a102c9efc602e060bced99d7d41b4fd90"></a><br/></td></tr>
<tr class="separator:a102c9efc602e060bced99d7d41b4fd90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf47f9130c1abc7873e62fd4abf0ee8c"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#adf47f9130c1abc7873e62fd4abf0ee8c">minScale</a></td></tr>
<tr class="memdesc:adf47f9130c1abc7873e62fd4abf0ee8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum value of moving average (defaults to 0x0000).  <a href="#adf47f9130c1abc7873e62fd4abf0ee8c"></a><br/></td></tr>
<tr class="separator:adf47f9130c1abc7873e62fd4abf0ee8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:aa32344aee61d3ba37f68c3d2fcdff9a5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa32344aee61d3ba37f68c3d2fcdff9a5"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#aa32344aee61d3ba37f68c3d2fcdff9a5">commandByte_</a></td></tr>
<tr class="memdesc:aa32344aee61d3ba37f68c3d2fcdff9a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Command byte for channel object (SD C2 C1 C0 bits only). <br/></td></tr>
<tr class="separator:aa32344aee61d3ba37f68c3d2fcdff9a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00e469ff13dcaa5fa9f647ca9165cf94"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a00e469ff13dcaa5fa9f647ca9165cf94"></a>
<a class="el" href="class_a_d_s7828.html">ADS7828</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#a00e469ff13dcaa5fa9f647ca9165cf94">device_</a></td></tr>
<tr class="memdesc:a00e469ff13dcaa5fa9f647ca9165cf94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to parent device object. <br/></td></tr>
<tr class="separator:a00e469ff13dcaa5fa9f647ca9165cf94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34219ddd59e982d32562f094292b5274"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a34219ddd59e982d32562f094292b5274"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#a34219ddd59e982d32562f094292b5274">index_</a></td></tr>
<tr class="memdesc:a34219ddd59e982d32562f094292b5274"><td class="mdescLeft">&#160;</td><td class="mdescRight">Index position within moving average array. <br/></td></tr>
<tr class="separator:a34219ddd59e982d32562f094292b5274"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a325a0244f06bcee456c98133019a8484"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#a325a0244f06bcee456c98133019a8484">samples_</a> [1&lt;&lt; 4]</td></tr>
<tr class="memdesc:a325a0244f06bcee456c98133019a8484"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array of (unscaled) sample values.  <a href="#a325a0244f06bcee456c98133019a8484"></a><br/></td></tr>
<tr class="separator:a325a0244f06bcee456c98133019a8484"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad59c1575c352dbbf4f82ed64f39be03e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad59c1575c352dbbf4f82ed64f39be03e"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#ad59c1575c352dbbf4f82ed64f39be03e">total_</a></td></tr>
<tr class="memdesc:ad59c1575c352dbbf4f82ed64f39be03e"><td class="mdescLeft">&#160;</td><td class="mdescRight">(Unscaled) running total of moving average array elements. <br/></td></tr>
<tr class="separator:ad59c1575c352dbbf4f82ed64f39be03e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:ac97c771263d85e4bb2f75ae9c27d624f"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#ac97c771263d85e4bb2f75ae9c27d624f">MOVING_AVERAGE_BITS_</a> = 4</td></tr>
<tr class="memdesc:ac97c771263d85e4bb2f75ae9c27d624f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Quantity of samples to be averaged = 2<sup><a class="el" href="class_a_d_s7828_channel.html#ac97c771263d85e4bb2f75ae9c27d624f">MOVING_AVERAGE_BITS_</a></sup>.  <a href="#ac97c771263d85e4bb2f75ae9c27d624f"></a><br/></td></tr>
<tr class="separator:ac97c771263d85e4bb2f75ae9c27d624f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl><dt><b>Examples: </b></dt><dd><a class="el" href="examples_2one_device_2one_device_8pde-example.html#_a4">examples/one_device/one_device.pde</a>, and <a class="el" href="examples_2two_devices_2two_devices_8pde-example.html#_a7">examples/two_devices/two_devices.pde</a>.</dd>
</dl></div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a2885e498b51e624ca0e6be13c5d7049d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ADS7828Channel::ADS7828Channel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_a_d_s7828.html">ADS7828</a> * const&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section remark"><dt>Remarks</dt><dd>Invoked by <a class="el" href="class_a_d_s7828.html">ADS7828</a> constructor; this function will not normally be called by end user. </dd></dl>
<div class="fragment"><div class="line">{</div>
<div class="line">  this-&gt;<a class="code" href="class_a_d_s7828_channel.html#a00e469ff13dcaa5fa9f647ca9165cf94" title="Pointer to parent device object.">device_</a> = <a class="code" href="class_a_d_s7828_channel.html#a23c4b3feb7906925490006c89a0bd6b8" title="Return pointer to parent device object.">device</a>;</div>
<div class="line">  this-&gt;<a class="code" href="class_a_d_s7828_channel.html#aa32344aee61d3ba37f68c3d2fcdff9a5" title="Command byte for channel object (SD C2 C1 C0 bits only).">commandByte_</a> = (bitRead(options, 7) &lt;&lt; 7) | (bitRead(<span class="keywordtype">id</span>, 0) &lt;&lt; 6) |</div>
<div class="line">    (bitRead(<span class="keywordtype">id</span>, 2) &lt;&lt; 5) | (bitRead(<span class="keywordtype">id</span>, 1) &lt;&lt; 4);</div>
<div class="line">  this-&gt;<a class="code" href="class_a_d_s7828_channel.html#adf47f9130c1abc7873e62fd4abf0ee8c" title="Minimum value of moving average (defaults to 0x0000).">minScale</a> = min;</div>
<div class="line">  this-&gt;<a class="code" href="class_a_d_s7828_channel.html#a102c9efc602e060bced99d7d41b4fd90" title="Maximum value of moving average (defaults to 0x0FFF).">maxScale</a> = max;</div>
<div class="line">  <a class="code" href="class_a_d_s7828_channel.html#ad582f45fd0b5c74fedcebafca0715915" title="Reset moving average array, index, totalizer to zero.">reset</a>();</div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_d_s7828_channel_a2885e498b51e624ca0e6be13c5d7049d_cgraph.png" border="0" usemap="#class_a_d_s7828_channel_a2885e498b51e624ca0e6be13c5d7049d_cgraph" alt=""/></div>
<map name="class_a_d_s7828_channel_a2885e498b51e624ca0e6be13c5d7049d_cgraph" id="class_a_d_s7828_channel_a2885e498b51e624ca0e6be13c5d7049d_cgraph">
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ade03373a3a798f8839e24f01b2df5a98"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ADS7828Channel::commandByte </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return command byte for channel object. </p>
<dl class="optional"><dt><b><a class="el" href="optional.html#_optional000001">Optional Function (Troubleshooting):</a></b></dt><dd>This function is for testing and troubleshooting. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>command byte (0x00..0xFC) </dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line">...</div>
<div class="line">ADS7828 adc(0);</div>
<div class="line"><a class="code" href="class_a_d_s7828_channel.html">ADS7828Channel</a>* temperature = adc.<a class="code" href="class_a_d_s7828.html#a35fce229052d9e45b228e6d099658dcf" title="Return pointer to channel object.">channel</a>(0);</div>
<div class="line">uint8_t command = temperature-&gt;<a class="code" href="class_a_d_s7828_channel.html#ade03373a3a798f8839e24f01b2df5a98" title="Return command byte for channel object.">commandByte</a>();</div>
<div class="line">...</div>
</div><!-- fragment --> </dd></dl>
<div class="fragment"><div class="line">{</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code" href="class_a_d_s7828_channel.html#aa32344aee61d3ba37f68c3d2fcdff9a5" title="Command byte for channel object (SD C2 C1 C0 bits only).">commandByte_</a> | <a class="code" href="class_a_d_s7828_channel.html#a00e469ff13dcaa5fa9f647ca9165cf94" title="Pointer to parent device object.">device_</a>-&gt;<a class="code" href="class_a_d_s7828.html#af700fae6cff698172dbe8ac752d74e9b" title="Return command byte for device object (PD1 PD0 bits only).">commandByte</a>();</div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_d_s7828_channel_ade03373a3a798f8839e24f01b2df5a98_cgraph.png" border="0" usemap="#class_a_d_s7828_channel_ade03373a3a798f8839e24f01b2df5a98_cgraph" alt=""/></div>
<map name="class_a_d_s7828_channel_ade03373a3a798f8839e24f01b2df5a98_cgraph" id="class_a_d_s7828_channel_ade03373a3a798f8839e24f01b2df5a98_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a23c4b3feb7906925490006c89a0bd6b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_a_d_s7828.html">ADS7828</a> * ADS7828Channel::device </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return pointer to parent device object. </p>
<dl class="section return"><dt>Returns</dt><dd>pointer to parent <a class="el" href="class_a_d_s7828.html">ADS7828</a> object </dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line">...</div>
<div class="line">ADS7828 adc(0);</div>
<div class="line"><a class="code" href="class_a_d_s7828_channel.html">ADS7828Channel</a>* temperature = adc.<a class="code" href="class_a_d_s7828.html#a35fce229052d9e45b228e6d099658dcf" title="Return pointer to channel object.">channel</a>(0);</div>
<div class="line"><a class="code" href="class_a_d_s7828.html">ADS7828</a>* parentDevice = temperature-&gt;<a class="code" href="class_a_d_s7828_channel.html#a23c4b3feb7906925490006c89a0bd6b8" title="Return pointer to parent device object.">device</a>();</div>
<div class="line">...</div>
</div><!-- fragment --> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="examples_2two_devices_2two_devices_8pde-example.html#a8">examples/two_devices/two_devices.pde</a>.</dd>
</dl><div class="fragment"><div class="line">{</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code" href="class_a_d_s7828_channel.html#a00e469ff13dcaa5fa9f647ca9165cf94" title="Pointer to parent device object.">device_</a>;</div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_d_s7828_channel_a23c4b3feb7906925490006c89a0bd6b8_icgraph.png" border="0" usemap="#class_a_d_s7828_channel_a23c4b3feb7906925490006c89a0bd6b8_icgraph" alt=""/></div>
<map name="class_a_d_s7828_channel_a23c4b3feb7906925490006c89a0bd6b8_icgraph" id="class_a_d_s7828_channel_a23c4b3feb7906925490006c89a0bd6b8_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae736e4230d1c726c74f08aa91d754032"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ADS7828Channel::id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return ID number of channel object (+IN connection). </p>
<p>Single-ended inputs use COM as -IN; Differential inputs are as follows: </p>
<ul>
<li>0 indicates CH0 as +IN, CH1 as -IN </li>
<li>1 indicates CH1 as +IN, CH0 as -IN </li>
<li>2 indicates CH2 as +IN, CH3 as -IN </li>
<li>... </li>
<li>7 indicates CH7 as +IN, CH6 as -IN</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>id (0..7) </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>command byte C2 C1 C0 = 000 </td></tr>
    <tr><td class="paramname">1</td><td>command byte C2 C1 C0 = 100 </td></tr>
    <tr><td class="paramname">2</td><td>command byte C2 C1 C0 = 001 </td></tr>
    <tr><td class="paramname">3</td><td>command byte C2 C1 C0 = 101 </td></tr>
    <tr><td class="paramname">4</td><td>command byte C2 C1 C0 = 010 </td></tr>
    <tr><td class="paramname">5</td><td>command byte C2 C1 C0 = 110 </td></tr>
    <tr><td class="paramname">6</td><td>command byte C2 C1 C0 = 011 </td></tr>
    <tr><td class="paramname">7</td><td>command byte C2 C1 C0 = 111 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line">...</div>
<div class="line">ADS7828 adc(0);</div>
<div class="line"><a class="code" href="class_a_d_s7828_channel.html">ADS7828Channel</a>* temperature = adc.<a class="code" href="class_a_d_s7828.html#a35fce229052d9e45b228e6d099658dcf" title="Return pointer to channel object.">channel</a>(0);</div>
<div class="line">uint8_t channelId = temperature-&gt;<a class="code" href="class_a_d_s7828_channel.html#ae736e4230d1c726c74f08aa91d754032" title="Return ID number of channel object (+IN connection).">id</a>();</div>
<div class="line">...</div>
</div><!-- fragment --> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="examples_2two_devices_2two_devices_8pde-example.html#a10">examples/two_devices/two_devices.pde</a>.</dd>
</dl><div class="fragment"><div class="line">{</div>
<div class="line">  <span class="keywordflow">return</span> ((bitRead(<a class="code" href="class_a_d_s7828_channel.html#aa32344aee61d3ba37f68c3d2fcdff9a5" title="Command byte for channel object (SD C2 C1 C0 bits only).">commandByte_</a>, 5) &lt;&lt; 2) | (bitRead(<a class="code" href="class_a_d_s7828_channel.html#aa32344aee61d3ba37f68c3d2fcdff9a5" title="Command byte for channel object (SD C2 C1 C0 bits only).">commandByte_</a>, 4) &lt;&lt; 1) |</div>
<div class="line">    (bitRead(<a class="code" href="class_a_d_s7828_channel.html#aa32344aee61d3ba37f68c3d2fcdff9a5" title="Command byte for channel object (SD C2 C1 C0 bits only).">commandByte_</a>, 6)));</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af6de63f5707915f0d0c2c4ac3e1560d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ADS7828Channel::index </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return index position within moving average array. </p>
<dl class="optional"><dt><b><a class="el" href="optional.html#_optional000002">Optional Function (Troubleshooting):</a></b></dt><dd>This function is for testing and troubleshooting. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>index (0..2<sup><a class="el" href="class_a_d_s7828_channel.html#ac97c771263d85e4bb2f75ae9c27d624f">MOVING_AVERAGE_BITS_</a></sup> - 1) </dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line">...</div>
<div class="line">ADS7828 adc(0);</div>
<div class="line"><a class="code" href="class_a_d_s7828_channel.html">ADS7828Channel</a>* temperature = adc.<a class="code" href="class_a_d_s7828.html#a35fce229052d9e45b228e6d099658dcf" title="Return pointer to channel object.">channel</a>(0);</div>
<div class="line">uint8_t channelIndex = temperature-&gt;<a class="code" href="class_a_d_s7828_channel.html#af6de63f5707915f0d0c2c4ac3e1560d7" title="Return index position within moving average array.">index</a>();</div>
<div class="line">...</div>
</div><!-- fragment --> </dd></dl>
<div class="fragment"><div class="line">{</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code" href="class_a_d_s7828_channel.html#a34219ddd59e982d32562f094292b5274" title="Index position within moving average array.">index_</a>;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab5701f667bfdb461f304805ae760d3c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ADS7828Channel::newSample </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>sample</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add (unscaled) sample value to moving average array, update totalizer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sample</td><td>sample value (0x0000..0xFFFF) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Invoked by <a class="el" href="class_a_d_s7828.html#a6dba71b1fcec938220cb95080956d111" title="Update all unmasked channels on device.">ADS7828::update()</a> / <a class="el" href="class_a_d_s7828.html#a022cd9901b54f9d6352f4a35eca37268" title="Update all unmasked channels on all registered devices.">ADS7828::updateAll()</a> functions; this function will not normally be called by end user. </dd></dl>
<div class="fragment"><div class="line">{</div>
<div class="line">  this-&gt;<a class="code" href="class_a_d_s7828_channel.html#a34219ddd59e982d32562f094292b5274" title="Index position within moving average array.">index_</a>++;</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="class_a_d_s7828_channel.html#a34219ddd59e982d32562f094292b5274" title="Index position within moving average array.">index_</a> &gt;= (1 &lt;&lt; <a class="code" href="class_a_d_s7828_channel.html#ac97c771263d85e4bb2f75ae9c27d624f" title="Quantity of samples to be averaged = 2MOVING_AVERAGE_BITS_.">MOVING_AVERAGE_BITS_</a>)) this-&gt;<a class="code" href="class_a_d_s7828_channel.html#a34219ddd59e982d32562f094292b5274" title="Index position within moving average array.">index_</a> = 0;</div>
<div class="line">  this-&gt;<a class="code" href="class_a_d_s7828_channel.html#ad59c1575c352dbbf4f82ed64f39be03e" title="(Unscaled) running total of moving average array elements.">total_</a> -= <a class="code" href="class_a_d_s7828_channel.html#a325a0244f06bcee456c98133019a8484" title="Array of (unscaled) sample values.">samples_</a>[<a class="code" href="class_a_d_s7828_channel.html#a34219ddd59e982d32562f094292b5274" title="Index position within moving average array.">index_</a>];</div>
<div class="line">  this-&gt;<a class="code" href="class_a_d_s7828_channel.html#a325a0244f06bcee456c98133019a8484" title="Array of (unscaled) sample values.">samples_</a>[<a class="code" href="class_a_d_s7828_channel.html#a34219ddd59e982d32562f094292b5274" title="Index position within moving average array.">index_</a>] = <a class="code" href="class_a_d_s7828_channel.html#af4ff68784f62525fbee8dd9d0584e2c1" title="Return most-recent (unscaled) sample value from moving average array.">sample</a>;</div>
<div class="line">  this-&gt;<a class="code" href="class_a_d_s7828_channel.html#ad59c1575c352dbbf4f82ed64f39be03e" title="(Unscaled) running total of moving average array elements.">total_</a> += <a class="code" href="class_a_d_s7828_channel.html#a325a0244f06bcee456c98133019a8484" title="Array of (unscaled) sample values.">samples_</a>[<a class="code" href="class_a_d_s7828_channel.html#a34219ddd59e982d32562f094292b5274" title="Index position within moving average array.">index_</a>];</div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_d_s7828_channel_ab5701f667bfdb461f304805ae760d3c6_cgraph.png" border="0" usemap="#class_a_d_s7828_channel_ab5701f667bfdb461f304805ae760d3c6_cgraph" alt=""/></div>
<map name="class_a_d_s7828_channel_ab5701f667bfdb461f304805ae760d3c6_cgraph" id="class_a_d_s7828_channel_ab5701f667bfdb461f304805ae760d3c6_cgraph">
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_d_s7828_channel_ab5701f667bfdb461f304805ae760d3c6_icgraph.png" border="0" usemap="#class_a_d_s7828_channel_ab5701f667bfdb461f304805ae760d3c6_icgraph" alt=""/></div>
<map name="class_a_d_s7828_channel_ab5701f667bfdb461f304805ae760d3c6_icgraph" id="class_a_d_s7828_channel_ab5701f667bfdb461f304805ae760d3c6_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad582f45fd0b5c74fedcebafca0715915"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ADS7828Channel::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset moving average array, index, totalizer to zero. </p>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line">...</div>
<div class="line">ADS7828 adc(0);</div>
<div class="line"><a class="code" href="class_a_d_s7828_channel.html">ADS7828Channel</a>* temperature = adc.<a class="code" href="class_a_d_s7828.html#a35fce229052d9e45b228e6d099658dcf" title="Return pointer to channel object.">channel</a>(0);</div>
<div class="line">temperature-&gt;<a class="code" href="class_a_d_s7828_channel.html#ad582f45fd0b5c74fedcebafca0715915" title="Reset moving average array, index, totalizer to zero.">reset</a>();</div>
<div class="line">...</div>
</div><!-- fragment --> </dd></dl>
<div class="fragment"><div class="line">{</div>
<div class="line">  this-&gt;<a class="code" href="class_a_d_s7828_channel.html#a34219ddd59e982d32562f094292b5274" title="Index position within moving average array.">index_</a> = this-&gt;<a class="code" href="class_a_d_s7828_channel.html#ad59c1575c352dbbf4f82ed64f39be03e" title="(Unscaled) running total of moving average array elements.">total_</a> = 0;</div>
<div class="line">  <span class="keywordflow">for</span> (uint8_t k = 0; k &lt; (1 &lt;&lt; <a class="code" href="class_a_d_s7828_channel.html#ac97c771263d85e4bb2f75ae9c27d624f" title="Quantity of samples to be averaged = 2MOVING_AVERAGE_BITS_.">MOVING_AVERAGE_BITS_</a>); k++)</div>
<div class="line">  {</div>
<div class="line">    this-&gt;<a class="code" href="class_a_d_s7828_channel.html#a325a0244f06bcee456c98133019a8484" title="Array of (unscaled) sample values.">samples_</a>[k] = 0;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_d_s7828_channel_ad582f45fd0b5c74fedcebafca0715915_icgraph.png" border="0" usemap="#class_a_d_s7828_channel_ad582f45fd0b5c74fedcebafca0715915_icgraph" alt=""/></div>
<map name="class_a_d_s7828_channel_ad582f45fd0b5c74fedcebafca0715915_icgraph" id="class_a_d_s7828_channel_ad582f45fd0b5c74fedcebafca0715915_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af4ff68784f62525fbee8dd9d0584e2c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t ADS7828Channel::sample </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return most-recent (unscaled) sample value from moving average array. </p>
<dl class="optional"><dt><b><a class="el" href="optional.html#_optional000003">Optional Function (Troubleshooting):</a></b></dt><dd>This function is for testing and troubleshooting. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>sample value (0x0000..0xFFFF) </dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line">...</div>
<div class="line">ADS7828 adc(0);</div>
<div class="line"><a class="code" href="class_a_d_s7828_channel.html">ADS7828Channel</a>* temperature = adc.<a class="code" href="class_a_d_s7828.html#a35fce229052d9e45b228e6d099658dcf" title="Return pointer to channel object.">channel</a>(0);</div>
<div class="line">uint16_t sampleValue = temperature-&gt;<a class="code" href="class_a_d_s7828_channel.html#af4ff68784f62525fbee8dd9d0584e2c1" title="Return most-recent (unscaled) sample value from moving average array.">sample</a>();</div>
<div class="line">...</div>
</div><!-- fragment --> </dd></dl>
<div class="fragment"><div class="line">{</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code" href="class_a_d_s7828_channel.html#a325a0244f06bcee456c98133019a8484" title="Array of (unscaled) sample values.">samples_</a>[<a class="code" href="class_a_d_s7828_channel.html#a34219ddd59e982d32562f094292b5274" title="Index position within moving average array.">index_</a>];</div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_d_s7828_channel_af4ff68784f62525fbee8dd9d0584e2c1_icgraph.png" border="0" usemap="#class_a_d_s7828_channel_af4ff68784f62525fbee8dd9d0584e2c1_icgraph" alt=""/></div>
<map name="class_a_d_s7828_channel_af4ff68784f62525fbee8dd9d0584e2c1_icgraph" id="class_a_d_s7828_channel_af4ff68784f62525fbee8dd9d0584e2c1_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad9204ca49ffa28e0ea681651a7afcf88"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ADS7828Channel::start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiate A/D conversion for channel object. </p>
<dl class="optional"><dt><b><a class="el" href="optional.html#_optional000004">Optional Function (Troubleshooting):</a></b></dt><dd>This function is for testing and troubleshooting. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>Determine whether this function is needed. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">1</td><td>length too long for buffer </td></tr>
    <tr><td class="paramname">2</td><td>address send, NACK received <b>(device not on bus)</b> </td></tr>
    <tr><td class="paramname">3</td><td>data send, NACK received </td></tr>
    <tr><td class="paramname">4</td><td>other twi error (lost bus arbitration, bus error, ...) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line">...</div>
<div class="line">ADS7828 adc(0);</div>
<div class="line"><a class="code" href="class_a_d_s7828_channel.html">ADS7828Channel</a>* temperature = adc.<a class="code" href="class_a_d_s7828.html#a35fce229052d9e45b228e6d099658dcf" title="Return pointer to channel object.">channel</a>(0);</div>
<div class="line">uint8_t status = temperature-&gt;<a class="code" href="class_a_d_s7828_channel.html#ad9204ca49ffa28e0ea681651a7afcf88" title="Initiate A/D conversion for channel object.">start</a>();</div>
<div class="line">...</div>
</div><!-- fragment --> </dd></dl>
<div class="fragment"><div class="line">{</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code" href="class_a_d_s7828_channel.html#a00e469ff13dcaa5fa9f647ca9165cf94" title="Pointer to parent device object.">device_</a>-&gt;<a class="code" href="class_a_d_s7828.html#abfffd6e7cc6f187a364254813dd25502" title="Initiate communication with device.">start</a>(<span class="keywordtype">id</span>());</div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_d_s7828_channel_ad9204ca49ffa28e0ea681651a7afcf88_cgraph.png" border="0" usemap="#class_a_d_s7828_channel_ad9204ca49ffa28e0ea681651a7afcf88_cgraph" alt=""/></div>
<map name="class_a_d_s7828_channel_ad9204ca49ffa28e0ea681651a7afcf88_cgraph" id="class_a_d_s7828_channel_ad9204ca49ffa28e0ea681651a7afcf88_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa0d1f73c4445a115f717b6c8b7f5e000"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t ADS7828Channel::total </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return (unscaled) totalizer value for channel object. </p>
<dl class="optional"><dt><b><a class="el" href="optional.html#_optional000005">Optional Function (Troubleshooting):</a></b></dt><dd>This function is for testing and troubleshooting. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>totalizer value (0x0000..0xFFFF) </dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line">...</div>
<div class="line">ADS7828 adc(0);</div>
<div class="line"><a class="code" href="class_a_d_s7828_channel.html">ADS7828Channel</a>* temperature = adc.<a class="code" href="class_a_d_s7828.html#a35fce229052d9e45b228e6d099658dcf" title="Return pointer to channel object.">channel</a>(0);</div>
<div class="line">uint16_t totalValue = temperature-&gt;<a class="code" href="class_a_d_s7828_channel.html#aa0d1f73c4445a115f717b6c8b7f5e000" title="Return (unscaled) totalizer value for channel object.">total</a>();</div>
<div class="line">...</div>
</div><!-- fragment --> </dd></dl>
<div class="fragment"><div class="line">{</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code" href="class_a_d_s7828_channel.html#ad59c1575c352dbbf4f82ed64f39be03e" title="(Unscaled) running total of moving average array elements.">total_</a>;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a19e8ecf99f6c3847c7f26cf2157758b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ADS7828Channel::update </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiate A/D conversion, read data, update moving average for channel object. </p>
<dl class="optional"><dt><b><a class="el" href="optional.html#_optional000006">Optional Function (Troubleshooting):</a></b></dt><dd>This function is for testing and troubleshooting. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>Determine whether this function is needed. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">1</td><td>length too long for buffer </td></tr>
    <tr><td class="paramname">2</td><td>address send, NACK received <b>(device not on bus)</b> </td></tr>
    <tr><td class="paramname">3</td><td>data send, NACK received </td></tr>
    <tr><td class="paramname">4</td><td>other twi error (lost bus arbitration, bus error, ...) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line">...</div>
<div class="line">ADS7828 adc(0);</div>
<div class="line"><a class="code" href="class_a_d_s7828_channel.html">ADS7828Channel</a>* temperature = adc.<a class="code" href="class_a_d_s7828.html#a35fce229052d9e45b228e6d099658dcf" title="Return pointer to channel object.">channel</a>(0);</div>
<div class="line">uint8_t status = temperature-&gt;<a class="code" href="class_a_d_s7828_channel.html#a19e8ecf99f6c3847c7f26cf2157758b6" title="Initiate A/D conversion, read data, update moving average for channel object.">update</a>();</div>
<div class="line">...</div>
</div><!-- fragment --> </dd></dl>
<div class="fragment"><div class="line">{</div>
<div class="line">  <a class="code" href="class_a_d_s7828_channel.html#a00e469ff13dcaa5fa9f647ca9165cf94" title="Pointer to parent device object.">device_</a>-&gt;<a class="code" href="class_a_d_s7828.html#a6dba71b1fcec938220cb95080956d111" title="Update all unmasked channels on device.">update</a>(<span class="keywordtype">id</span>());</div>
<div class="line">}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_d_s7828_channel_a19e8ecf99f6c3847c7f26cf2157758b6_cgraph.png" border="0" usemap="#class_a_d_s7828_channel_a19e8ecf99f6c3847c7f26cf2157758b6_cgraph" alt=""/></div>
<map name="class_a_d_s7828_channel_a19e8ecf99f6c3847c7f26cf2157758b6_cgraph" id="class_a_d_s7828_channel_a19e8ecf99f6c3847c7f26cf2157758b6_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8b6c345cbe33c2444cf12f736d8d61da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t ADS7828Channel::value </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return moving average value for channel object. </p>
<dl class="required"><dt><b><a class="el" href="required.html#_required000001">Required Function:</a></b></dt><dd>This is the most commonly-used channel function. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>scaled value (0x0000..0xFFFF) </dd></dl>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line">...</div>
<div class="line">ADS7828 adc(0);</div>
<div class="line"><a class="code" href="class_a_d_s7828_channel.html">ADS7828Channel</a>* temperature = adc.<a class="code" href="class_a_d_s7828.html#a35fce229052d9e45b228e6d099658dcf" title="Return pointer to channel object.">channel</a>(0);</div>
<div class="line">uint16_t ambient = temperature-&gt;<a class="code" href="class_a_d_s7828_channel.html#a8b6c345cbe33c2444cf12f736d8d61da" title="Return moving average value for channel object.">value</a>();</div>
<div class="line">...</div>
</div><!-- fragment --> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="examples_2one_device_2one_device_8pde-example.html#a10">examples/one_device/one_device.pde</a>, and <a class="el" href="examples_2two_devices_2two_devices_8pde-example.html#a11">examples/two_devices/two_devices.pde</a>.</dd>
</dl><div class="fragment"><div class="line">{</div>
<div class="line">  uint16_t r = (<a class="code" href="class_a_d_s7828_channel.html#ad59c1575c352dbbf4f82ed64f39be03e" title="(Unscaled) running total of moving average array elements.">total_</a> &gt;&gt; <a class="code" href="class_a_d_s7828_channel.html#ac97c771263d85e4bb2f75ae9c27d624f" title="Quantity of samples to be averaged = 2MOVING_AVERAGE_BITS_.">MOVING_AVERAGE_BITS_</a>);</div>
<div class="line">  <span class="keywordflow">return</span> map(r, DEFAULT_MIN_SCALE, DEFAULT_MAX_SCALE, <a class="code" href="class_a_d_s7828_channel.html#adf47f9130c1abc7873e62fd4abf0ee8c" title="Minimum value of moving average (defaults to 0x0000).">minScale</a>, <a class="code" href="class_a_d_s7828_channel.html#a102c9efc602e060bced99d7d41b4fd90" title="Maximum value of moving average (defaults to 0x0FFF).">maxScale</a>);</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a102c9efc602e060bced99d7d41b4fd90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t ADS7828Channel::maxScale</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum value of moving average (defaults to 0x0FFF). </p>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line">...</div>
<div class="line">ADS7828 <a class="code" href="class_a_d_s7828_channel.html#a23c4b3feb7906925490006c89a0bd6b8" title="Return pointer to parent device object.">device</a>(0);</div>
<div class="line"><a class="code" href="class_a_d_s7828_channel.html">ADS7828Channel</a>* temperature = <a class="code" href="class_a_d_s7828_channel.html#a23c4b3feb7906925490006c89a0bd6b8" title="Return pointer to parent device object.">device</a>.<a class="code" href="class_a_d_s7828.html#a35fce229052d9e45b228e6d099658dcf" title="Return pointer to channel object.">channel</a>(0);</div>
<div class="line">uint16_t old = temperature-&gt;<a class="code" href="class_a_d_s7828_channel.html#a102c9efc602e060bced99d7d41b4fd90" title="Maximum value of moving average (defaults to 0x0FFF).">maxScale</a>; <span class="comment">// get current value and/or</span></div>
<div class="line">temperature-&gt;<a class="code" href="class_a_d_s7828_channel.html#a102c9efc602e060bced99d7d41b4fd90" title="Maximum value of moving average (defaults to 0x0FFF).">maxScale</a> = 100;          <span class="comment">// set new value</span></div>
<div class="line">...</div>
</div><!-- fragment --> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="examples_2one_device_2one_device_8pde-example.html#a8">examples/one_device/one_device.pde</a>, and <a class="el" href="examples_2two_devices_2two_devices_8pde-example.html#a13">examples/two_devices/two_devices.pde</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="adf47f9130c1abc7873e62fd4abf0ee8c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t ADS7828Channel::minScale</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Minimum value of moving average (defaults to 0x0000). </p>
<dl class="section user"><dt>Usage:</dt><dd><div class="fragment"><div class="line">...</div>
<div class="line">ADS7828 <a class="code" href="class_a_d_s7828_channel.html#a23c4b3feb7906925490006c89a0bd6b8" title="Return pointer to parent device object.">device</a>(0);</div>
<div class="line"><a class="code" href="class_a_d_s7828_channel.html">ADS7828Channel</a>* temperature = <a class="code" href="class_a_d_s7828_channel.html#a23c4b3feb7906925490006c89a0bd6b8" title="Return pointer to parent device object.">device</a>.<a class="code" href="class_a_d_s7828.html#a35fce229052d9e45b228e6d099658dcf" title="Return pointer to channel object.">channel</a>(0);</div>
<div class="line">uint16_t old = temperature-&gt;<a class="code" href="class_a_d_s7828_channel.html#adf47f9130c1abc7873e62fd4abf0ee8c" title="Minimum value of moving average (defaults to 0x0000).">minScale</a>; <span class="comment">// get current value and/or</span></div>
<div class="line">temperature-&gt;<a class="code" href="class_a_d_s7828_channel.html#adf47f9130c1abc7873e62fd4abf0ee8c" title="Minimum value of moving average (defaults to 0x0000).">minScale</a> = 0;            <span class="comment">// set new value</span></div>
<div class="line">...</div>
</div><!-- fragment --> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="examples_2one_device_2one_device_8pde-example.html#a7">examples/one_device/one_device.pde</a>, and <a class="el" href="examples_2two_devices_2two_devices_8pde-example.html#a12">examples/two_devices/two_devices.pde</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a325a0244f06bcee456c98133019a8484"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t ADS7828Channel::samples_[1&lt;&lt; 4]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Array of (unscaled) sample values. </p>
<dl class="section note"><dt>Note</dt><dd>Bit shift must match <a class="el" href="class_a_d_s7828_channel.html#ac97c771263d85e4bb2f75ae9c27d624f">MOVING_AVERAGE_BITS_</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="ac97c771263d85e4bb2f75ae9c27d624f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t ADS7828Channel::MOVING_AVERAGE_BITS_ = 4</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Quantity of samples to be averaged = 2<sup><a class="el" href="class_a_d_s7828_channel.html#ac97c771263d85e4bb2f75ae9c27d624f">MOVING_AVERAGE_BITS_</a></sup>. </p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="class_a_d_s7828_channel.html#ac97c771263d85e4bb2f75ae9c27d624f">MOVING_AVERAGE_BITS_</a> must match <a class="el" href="class_a_d_s7828_channel.html#a325a0244f06bcee456c98133019a8484">samples_</a> bit shift. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="i2c__adc__ads7828_8h_source.html">i2c_adc_ads7828.h</a></li>
<li>i2c_adc_ads7828.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_a_d_s7828_channel.html">ADS7828Channel</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.2 </li>
  </ul>
</div>
</body>
</html>
