<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>i2c_adc_ads7828: ADS7828Channel Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">i2c_adc_ads7828
   
   </div>
   <div id="projectbrief">Arduino library for TI ADS7828 I2C A/D converter.</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_a_d_s7828_channel.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">ADS7828Channel Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="ADS7828Channel" --><div class="dynheader">
Collaboration diagram for ADS7828Channel:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_d_s7828_channel__coll__graph.png" border="0" usemap="#_a_d_s7828_channel_coll__map" alt="Collaboration graph"/></div>
<map name="_a_d_s7828_channel_coll__map" id="_a_d_s7828_channel_coll__map">
<area shape="rect" id="node2" href="class_a_d_s7828.html" title="ADS7828" alt="" coords="31,101,113,131"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="class_a_d_s7828_channel-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#a2885e498b51e624ca0e6be13c5d7049d">ADS7828Channel</a> (<a class="el" href="class_a_d_s7828.html">ADS7828</a> *const, uint8_t, uint8_t, uint16_t, uint16_t)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#ade03373a3a798f8839e24f01b2df5a98">commandByte</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return command byte for channel object.  <a href="#ade03373a3a798f8839e24f01b2df5a98"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_a_d_s7828.html">ADS7828</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#a23c4b3feb7906925490006c89a0bd6b8">device</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return pointer to parent device object.  <a href="#a23c4b3feb7906925490006c89a0bd6b8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#ae736e4230d1c726c74f08aa91d754032">id</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return ID number of channel object (+IN connection).  <a href="#ae736e4230d1c726c74f08aa91d754032"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#af6de63f5707915f0d0c2c4ac3e1560d7">index</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return index position within moving average array.  <a href="#af6de63f5707915f0d0c2c4ac3e1560d7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#ab5701f667bfdb461f304805ae760d3c6">newSample</a> (uint16_t)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add (unscaled) sample value to moving average array, update totalizer.  <a href="#ab5701f667bfdb461f304805ae760d3c6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#ad582f45fd0b5c74fedcebafca0715915">reset</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset moving average array, index, totalizer to zero.  <a href="#ad582f45fd0b5c74fedcebafca0715915"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#af4ff68784f62525fbee8dd9d0584e2c1">sample</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return most-recent (unscaled) sample value from moving average array.  <a href="#af4ff68784f62525fbee8dd9d0584e2c1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#ad9204ca49ffa28e0ea681651a7afcf88">start</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate A/D conversion for channel object.  <a href="#ad9204ca49ffa28e0ea681651a7afcf88"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#aa0d1f73c4445a115f717b6c8b7f5e000">total</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return (unscaled) totalizer value for channel object.  <a href="#aa0d1f73c4445a115f717b6c8b7f5e000"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#a19e8ecf99f6c3847c7f26cf2157758b6">update</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate A/D conversion, read data, update moving average for channel object.  <a href="#a19e8ecf99f6c3847c7f26cf2157758b6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#a8b6c345cbe33c2444cf12f736d8d61da">value</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return moving average value for channel object.  <a href="#a8b6c345cbe33c2444cf12f736d8d61da"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#a102c9efc602e060bced99d7d41b4fd90">maxScale</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum value of moving average (defaults to 0x0FFF).  <a href="#a102c9efc602e060bced99d7d41b4fd90"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#adf47f9130c1abc7873e62fd4abf0ee8c">minScale</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum value of moving average (defaults to 0x0000).  <a href="#adf47f9130c1abc7873e62fd4abf0ee8c"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa32344aee61d3ba37f68c3d2fcdff9a5"></a><!-- doxytag: member="ADS7828Channel::commandByte_" ref="aa32344aee61d3ba37f68c3d2fcdff9a5" args="" -->
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#aa32344aee61d3ba37f68c3d2fcdff9a5">commandByte_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Command byte for channel object (SD C2 C1 C0 bits only). <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a00e469ff13dcaa5fa9f647ca9165cf94"></a><!-- doxytag: member="ADS7828Channel::device_" ref="a00e469ff13dcaa5fa9f647ca9165cf94" args="" -->
<a class="el" href="class_a_d_s7828.html">ADS7828</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#a00e469ff13dcaa5fa9f647ca9165cf94">device_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to parent device object. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a34219ddd59e982d32562f094292b5274"></a><!-- doxytag: member="ADS7828Channel::index_" ref="a34219ddd59e982d32562f094292b5274" args="" -->
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#a34219ddd59e982d32562f094292b5274">index_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Index position within moving average array. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#a325a0244f06bcee456c98133019a8484">samples_</a> [1&lt;&lt; 4]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Array of (unscaled) sample values.  <a href="#a325a0244f06bcee456c98133019a8484"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad59c1575c352dbbf4f82ed64f39be03e"></a><!-- doxytag: member="ADS7828Channel::total_" ref="ad59c1575c352dbbf4f82ed64f39be03e" args="" -->
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#ad59c1575c352dbbf4f82ed64f39be03e">total_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">(Unscaled) running total of moving average array elements. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_d_s7828_channel.html#ac97c771263d85e4bb2f75ae9c27d624f">MOVING_AVERAGE_BITS_</a> = 4</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Quantity of samples to be averaged = 2^MOVING_AVERAGE_BITS_.  <a href="#ac97c771263d85e4bb2f75ae9c27d624f"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><dl><dt><b>Examples: </b></dt><dd><a class="el" href="examples_2one_device_2one_device_8pde-example.html#_a4">examples/one_device/one_device.pde</a>, and <a class="el" href="examples_2two_devices_2two_devices_8pde-example.html#_a7">examples/two_devices/two_devices.pde</a>.</dd>
</dl></div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a2885e498b51e624ca0e6be13c5d7049d"></a><!-- doxytag: member="ADS7828Channel::ADS7828Channel" ref="a2885e498b51e624ca0e6be13c5d7049d" args="(ADS7828 *const, uint8_t, uint8_t, uint16_t, uint16_t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ADS7828Channel::ADS7828Channel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_a_d_s7828.html">ADS7828</a> * const&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="remark"><dt><b>Remarks:</b></dt><dd>Invoked by <a class="el" href="class_a_d_s7828.html">ADS7828</a> constructor; this function will not normally be called by end user. </dd></dl>
<div class="fragment"><pre class="fragment">{
  this-&gt;<a class="code" href="class_a_d_s7828_channel.html#a00e469ff13dcaa5fa9f647ca9165cf94" title="Pointer to parent device object.">device_</a> = <a class="code" href="class_a_d_s7828_channel.html#a23c4b3feb7906925490006c89a0bd6b8" title="Return pointer to parent device object.">device</a>;
  this-&gt;<a class="code" href="class_a_d_s7828_channel.html#aa32344aee61d3ba37f68c3d2fcdff9a5" title="Command byte for channel object (SD C2 C1 C0 bits only).">commandByte_</a> = (bitRead(options, 7) &lt;&lt; 7) | (bitRead(<span class="keywordtype">id</span>, 0) &lt;&lt; 6) |
    (bitRead(<span class="keywordtype">id</span>, 2) &lt;&lt; 5) | (bitRead(<span class="keywordtype">id</span>, 1) &lt;&lt; 4);
  this-&gt;<a class="code" href="class_a_d_s7828_channel.html#adf47f9130c1abc7873e62fd4abf0ee8c" title="Minimum value of moving average (defaults to 0x0000).">minScale</a> = min;
  this-&gt;<a class="code" href="class_a_d_s7828_channel.html#a102c9efc602e060bced99d7d41b4fd90" title="Maximum value of moving average (defaults to 0x0FFF).">maxScale</a> = max;
  <a class="code" href="class_a_d_s7828_channel.html#ad582f45fd0b5c74fedcebafca0715915" title="Reset moving average array, index, totalizer to zero.">reset</a>();
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_d_s7828_channel_a2885e498b51e624ca0e6be13c5d7049d_cgraph.png" border="0" usemap="#class_a_d_s7828_channel_a2885e498b51e624ca0e6be13c5d7049d_cgraph" alt=""/></div>
<map name="class_a_d_s7828_channel_a2885e498b51e624ca0e6be13c5d7049d_cgraph" id="class_a_d_s7828_channel_a2885e498b51e624ca0e6be13c5d7049d_cgraph">
<area shape="rect" id="node3" href="class_a_d_s7828_channel.html#a23c4b3feb7906925490006c89a0bd6b8" title="Return pointer to parent device object." alt="" coords="311,5,492,35"/><area shape="rect" id="node5" href="class_a_d_s7828_channel.html#ad582f45fd0b5c74fedcebafca0715915" title="Reset moving average array, index, totalizer to zero." alt="" coords="315,59,488,88"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ade03373a3a798f8839e24f01b2df5a98"></a><!-- doxytag: member="ADS7828Channel::commandByte" ref="ade03373a3a798f8839e24f01b2df5a98" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="class_a_d_s7828_channel.html#ade03373a3a798f8839e24f01b2df5a98">ADS7828Channel::commandByte</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return command byte for channel object. </p>
<dl class="optional"><dt><b><a class="el" href="optional.html#_optional000001">Optional Function (Troubleshooting):</a></b></dt><dd>This function is for testing and troubleshooting. </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>command byte (0x00..0xFC) </dd></dl>
<dl class="user"><dt><b>Usage:</b></dt><dd><div class="fragment"><pre class="fragment"> ...
 <a class="code" href="class_a_d_s7828.html">ADS7828</a> adc(0);
 <a class="code" href="class_a_d_s7828_channel.html">ADS7828Channel</a>* temperature = adc.<a class="code" href="class_a_d_s7828.html#a35fce229052d9e45b228e6d099658dcf" title="Return pointer to channel object.">channel</a>(0);
 uint8_t command = temperature-&gt;<a class="code" href="class_a_d_s7828_channel.html#ade03373a3a798f8839e24f01b2df5a98" title="Return command byte for channel object.">commandByte</a>();
 ...
</pre></div> </dd></dl>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> <a class="code" href="class_a_d_s7828_channel.html#aa32344aee61d3ba37f68c3d2fcdff9a5" title="Command byte for channel object (SD C2 C1 C0 bits only).">commandByte_</a> | <a class="code" href="class_a_d_s7828_channel.html#a00e469ff13dcaa5fa9f647ca9165cf94" title="Pointer to parent device object.">device_</a>-&gt;<a class="code" href="class_a_d_s7828.html#af700fae6cff698172dbe8ac752d74e9b" title="Return command byte for device object (PD1 PD0 bits only).">commandByte</a>();
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_d_s7828_channel_ade03373a3a798f8839e24f01b2df5a98_cgraph.png" border="0" usemap="#class_a_d_s7828_channel_ade03373a3a798f8839e24f01b2df5a98_cgraph" alt=""/></div>
<map name="class_a_d_s7828_channel_ade03373a3a798f8839e24f01b2df5a98_cgraph" id="class_a_d_s7828_channel_ade03373a3a798f8839e24f01b2df5a98_cgraph">
<area shape="rect" id="node3" href="class_a_d_s7828.html#af700fae6cff698172dbe8ac752d74e9b" title="Return command byte for device object (PD1 PD0 bits only)." alt="" coords="291,5,475,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a23c4b3feb7906925490006c89a0bd6b8"></a><!-- doxytag: member="ADS7828Channel::device" ref="a23c4b3feb7906925490006c89a0bd6b8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_a_d_s7828.html">ADS7828</a> * <a class="el" href="class_a_d_s7828_channel.html#a23c4b3feb7906925490006c89a0bd6b8">ADS7828Channel::device</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return pointer to parent device object. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>pointer to parent <a class="el" href="class_a_d_s7828.html">ADS7828</a> object </dd></dl>
<dl class="user"><dt><b>Usage:</b></dt><dd><div class="fragment"><pre class="fragment"> ...
 <a class="code" href="class_a_d_s7828.html">ADS7828</a> adc(0);
 <a class="code" href="class_a_d_s7828_channel.html">ADS7828Channel</a>* temperature = adc.<a class="code" href="class_a_d_s7828.html#a35fce229052d9e45b228e6d099658dcf" title="Return pointer to channel object.">channel</a>(0);
 <a class="code" href="class_a_d_s7828.html">ADS7828</a>* parentDevice = temperature-&gt;<a class="code" href="class_a_d_s7828_channel.html#a23c4b3feb7906925490006c89a0bd6b8" title="Return pointer to parent device object.">device</a>();
 ...
</pre></div> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="examples_2two_devices_2two_devices_8pde-example.html#a8">examples/two_devices/two_devices.pde</a>.</dd>
</dl><div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> <a class="code" href="class_a_d_s7828_channel.html#a00e469ff13dcaa5fa9f647ca9165cf94" title="Pointer to parent device object.">device_</a>;
}
</pre></div>
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_d_s7828_channel_a23c4b3feb7906925490006c89a0bd6b8_icgraph.png" border="0" usemap="#class_a_d_s7828_channel_a23c4b3feb7906925490006c89a0bd6b8_icgraph" alt=""/></div>
<map name="class_a_d_s7828_channel_a23c4b3feb7906925490006c89a0bd6b8_icgraph" id="class_a_d_s7828_channel_a23c4b3feb7906925490006c89a0bd6b8_icgraph">
<area shape="rect" id="node3" href="class_a_d_s7828_channel.html#a2885e498b51e624ca0e6be13c5d7049d" title="ADS7828Channel::ADS7828Channel" alt="" coords="239,5,492,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae736e4230d1c726c74f08aa91d754032"></a><!-- doxytag: member="ADS7828Channel::id" ref="ae736e4230d1c726c74f08aa91d754032" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="class_a_d_s7828_channel.html#ae736e4230d1c726c74f08aa91d754032">ADS7828Channel::id</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return ID number of channel object (+IN connection). </p>
<p>Single-ended inputs use COM as -IN; Differential inputs are as follows: </p>
<ul>
<li>0 indicates CH0 as +IN, CH1 as -IN </li>
<li>1 indicates CH1 as +IN, CH0 as -IN </li>
<li>2 indicates CH2 as +IN, CH3 as -IN </li>
<li>... </li>
<li>7 indicates CH7 as +IN, CH6 as -IN</li>
</ul>
<dl class="return"><dt><b>Returns:</b></dt><dd>id (0..7) </dd></dl>
<dl class="retval"><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>command byte C2 C1 C0 = 000 </td></tr>
    <tr><td class="paramname">1</td><td>command byte C2 C1 C0 = 100 </td></tr>
    <tr><td class="paramname">2</td><td>command byte C2 C1 C0 = 001 </td></tr>
    <tr><td class="paramname">3</td><td>command byte C2 C1 C0 = 101 </td></tr>
    <tr><td class="paramname">4</td><td>command byte C2 C1 C0 = 010 </td></tr>
    <tr><td class="paramname">5</td><td>command byte C2 C1 C0 = 110 </td></tr>
    <tr><td class="paramname">6</td><td>command byte C2 C1 C0 = 011 </td></tr>
    <tr><td class="paramname">7</td><td>command byte C2 C1 C0 = 111 </td></tr>
  </table>
  </dd>
</dl>
<dl class="user"><dt><b>Usage:</b></dt><dd><div class="fragment"><pre class="fragment"> ...
 <a class="code" href="class_a_d_s7828.html">ADS7828</a> adc(0);
 <a class="code" href="class_a_d_s7828_channel.html">ADS7828Channel</a>* temperature = adc.<a class="code" href="class_a_d_s7828.html#a35fce229052d9e45b228e6d099658dcf" title="Return pointer to channel object.">channel</a>(0);
 uint8_t channelId = temperature-&gt;<a class="code" href="class_a_d_s7828_channel.html#ae736e4230d1c726c74f08aa91d754032" title="Return ID number of channel object (+IN connection).">id</a>();
 ...
</pre></div> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="examples_2two_devices_2two_devices_8pde-example.html#a10">examples/two_devices/two_devices.pde</a>.</dd>
</dl><div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> ((bitRead(<a class="code" href="class_a_d_s7828_channel.html#aa32344aee61d3ba37f68c3d2fcdff9a5" title="Command byte for channel object (SD C2 C1 C0 bits only).">commandByte_</a>, 5) &lt;&lt; 2) | (bitRead(<a class="code" href="class_a_d_s7828_channel.html#aa32344aee61d3ba37f68c3d2fcdff9a5" title="Command byte for channel object (SD C2 C1 C0 bits only).">commandByte_</a>, 4) &lt;&lt; 1) |
    (bitRead(<a class="code" href="class_a_d_s7828_channel.html#aa32344aee61d3ba37f68c3d2fcdff9a5" title="Command byte for channel object (SD C2 C1 C0 bits only).">commandByte_</a>, 6)));
}
</pre></div>
</div>
</div>
<a class="anchor" id="af6de63f5707915f0d0c2c4ac3e1560d7"></a><!-- doxytag: member="ADS7828Channel::index" ref="af6de63f5707915f0d0c2c4ac3e1560d7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="class_a_d_s7828_channel.html#af6de63f5707915f0d0c2c4ac3e1560d7">ADS7828Channel::index</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return index position within moving average array. </p>
<dl class="optional"><dt><b><a class="el" href="optional.html#_optional000002">Optional Function (Troubleshooting):</a></b></dt><dd>This function is for testing and troubleshooting. </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>index (0..2^MOVING_AVERAGE_BITS_ - 1) </dd></dl>
<dl class="user"><dt><b>Usage:</b></dt><dd><div class="fragment"><pre class="fragment"> ...
 <a class="code" href="class_a_d_s7828.html">ADS7828</a> adc(0);
 <a class="code" href="class_a_d_s7828_channel.html">ADS7828Channel</a>* temperature = adc.<a class="code" href="class_a_d_s7828.html#a35fce229052d9e45b228e6d099658dcf" title="Return pointer to channel object.">channel</a>(0);
 uint8_t channelIndex = temperature-&gt;<a class="code" href="class_a_d_s7828_channel.html#af6de63f5707915f0d0c2c4ac3e1560d7" title="Return index position within moving average array.">index</a>();
 ...
</pre></div> </dd></dl>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> <a class="code" href="class_a_d_s7828_channel.html#a34219ddd59e982d32562f094292b5274" title="Index position within moving average array.">index_</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab5701f667bfdb461f304805ae760d3c6"></a><!-- doxytag: member="ADS7828Channel::newSample" ref="ab5701f667bfdb461f304805ae760d3c6" args="(uint16_t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_a_d_s7828_channel.html#ab5701f667bfdb461f304805ae760d3c6">ADS7828Channel::newSample</a> </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>sample</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add (unscaled) sample value to moving average array, update totalizer. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sample</td><td>sample value (0x0000..0xFFFF) </td></tr>
  </table>
  </dd>
</dl>
<dl class="remark"><dt><b>Remarks:</b></dt><dd>Invoked by <a class="el" href="class_a_d_s7828.html#a6dba71b1fcec938220cb95080956d111" title="Update all unmasked channels on device.">ADS7828::update()</a> / <a class="el" href="class_a_d_s7828.html#a022cd9901b54f9d6352f4a35eca37268" title="Update all unmasked channels on all registered devices.">ADS7828::updateAll()</a> functions; this function will not normally be called by end user. </dd></dl>
<div class="fragment"><pre class="fragment">{
  this-&gt;<a class="code" href="class_a_d_s7828_channel.html#a34219ddd59e982d32562f094292b5274" title="Index position within moving average array.">index_</a>++;
  <span class="keywordflow">if</span> (<a class="code" href="class_a_d_s7828_channel.html#a34219ddd59e982d32562f094292b5274" title="Index position within moving average array.">index_</a> &gt;= (1 &lt;&lt; <a class="code" href="class_a_d_s7828_channel.html#ac97c771263d85e4bb2f75ae9c27d624f" title="Quantity of samples to be averaged = 2^MOVING_AVERAGE_BITS_.">MOVING_AVERAGE_BITS_</a>)) this-&gt;<a class="code" href="class_a_d_s7828_channel.html#a34219ddd59e982d32562f094292b5274" title="Index position within moving average array.">index_</a> = 0;
  this-&gt;<a class="code" href="class_a_d_s7828_channel.html#ad59c1575c352dbbf4f82ed64f39be03e" title="(Unscaled) running total of moving average array elements.">total_</a> -= <a class="code" href="class_a_d_s7828_channel.html#a325a0244f06bcee456c98133019a8484" title="Array of (unscaled) sample values.">samples_</a>[<a class="code" href="class_a_d_s7828_channel.html#a34219ddd59e982d32562f094292b5274" title="Index position within moving average array.">index_</a>];
  this-&gt;<a class="code" href="class_a_d_s7828_channel.html#a325a0244f06bcee456c98133019a8484" title="Array of (unscaled) sample values.">samples_</a>[<a class="code" href="class_a_d_s7828_channel.html#a34219ddd59e982d32562f094292b5274" title="Index position within moving average array.">index_</a>] = <a class="code" href="class_a_d_s7828_channel.html#af4ff68784f62525fbee8dd9d0584e2c1" title="Return most-recent (unscaled) sample value from moving average array.">sample</a>;
  this-&gt;<a class="code" href="class_a_d_s7828_channel.html#ad59c1575c352dbbf4f82ed64f39be03e" title="(Unscaled) running total of moving average array elements.">total_</a> += <a class="code" href="class_a_d_s7828_channel.html#a325a0244f06bcee456c98133019a8484" title="Array of (unscaled) sample values.">samples_</a>[<a class="code" href="class_a_d_s7828_channel.html#a34219ddd59e982d32562f094292b5274" title="Index position within moving average array.">index_</a>];
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_d_s7828_channel_ab5701f667bfdb461f304805ae760d3c6_cgraph.png" border="0" usemap="#class_a_d_s7828_channel_ab5701f667bfdb461f304805ae760d3c6_cgraph" alt=""/></div>
<map name="class_a_d_s7828_channel_ab5701f667bfdb461f304805ae760d3c6_cgraph" id="class_a_d_s7828_channel_ab5701f667bfdb461f304805ae760d3c6_cgraph">
<area shape="rect" id="node3" href="class_a_d_s7828_channel.html#af4ff68784f62525fbee8dd9d0584e2c1" title="Return most&#45;recent (unscaled) sample value from moving average array." alt="" coords="269,5,459,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_d_s7828_channel_ab5701f667bfdb461f304805ae760d3c6_icgraph.png" border="0" usemap="#class_a_d_s7828_channel_ab5701f667bfdb461f304805ae760d3c6_icgraph" alt=""/></div>
<map name="class_a_d_s7828_channel_ab5701f667bfdb461f304805ae760d3c6_icgraph" id="class_a_d_s7828_channel_ab5701f667bfdb461f304805ae760d3c6_icgraph">
<area shape="rect" id="node3" href="class_a_d_s7828.html#a825149c18833c4aa25ebf0f08a75379d" title="Initiate communication with device." alt="" coords="271,5,404,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad582f45fd0b5c74fedcebafca0715915"></a><!-- doxytag: member="ADS7828Channel::reset" ref="ad582f45fd0b5c74fedcebafca0715915" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_a_d_s7828_channel.html#ad582f45fd0b5c74fedcebafca0715915">ADS7828Channel::reset</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reset moving average array, index, totalizer to zero. </p>
<dl class="user"><dt><b>Usage:</b></dt><dd><div class="fragment"><pre class="fragment"> ...
 <a class="code" href="class_a_d_s7828.html">ADS7828</a> adc(0);
 <a class="code" href="class_a_d_s7828_channel.html">ADS7828Channel</a>* temperature = adc.<a class="code" href="class_a_d_s7828.html#a35fce229052d9e45b228e6d099658dcf" title="Return pointer to channel object.">channel</a>(0);
 temperature-&gt;<a class="code" href="class_a_d_s7828_channel.html#ad582f45fd0b5c74fedcebafca0715915" title="Reset moving average array, index, totalizer to zero.">reset</a>();
 ...
</pre></div> </dd></dl>
<div class="fragment"><pre class="fragment">{
  this-&gt;<a class="code" href="class_a_d_s7828_channel.html#a34219ddd59e982d32562f094292b5274" title="Index position within moving average array.">index_</a> = this-&gt;<a class="code" href="class_a_d_s7828_channel.html#ad59c1575c352dbbf4f82ed64f39be03e" title="(Unscaled) running total of moving average array elements.">total_</a> = 0;
  <span class="keywordflow">for</span> (uint8_t k = 0; k &lt; (1 &lt;&lt; <a class="code" href="class_a_d_s7828_channel.html#ac97c771263d85e4bb2f75ae9c27d624f" title="Quantity of samples to be averaged = 2^MOVING_AVERAGE_BITS_.">MOVING_AVERAGE_BITS_</a>); k++)
  {
    this-&gt;<a class="code" href="class_a_d_s7828_channel.html#a325a0244f06bcee456c98133019a8484" title="Array of (unscaled) sample values.">samples_</a>[k] = 0;
  }
}
</pre></div>
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_d_s7828_channel_ad582f45fd0b5c74fedcebafca0715915_icgraph.png" border="0" usemap="#class_a_d_s7828_channel_ad582f45fd0b5c74fedcebafca0715915_icgraph" alt=""/></div>
<map name="class_a_d_s7828_channel_ad582f45fd0b5c74fedcebafca0715915_icgraph" id="class_a_d_s7828_channel_ad582f45fd0b5c74fedcebafca0715915_icgraph">
<area shape="rect" id="node3" href="class_a_d_s7828_channel.html#a2885e498b51e624ca0e6be13c5d7049d" title="ADS7828Channel::ADS7828Channel" alt="" coords="231,5,484,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af4ff68784f62525fbee8dd9d0584e2c1"></a><!-- doxytag: member="ADS7828Channel::sample" ref="af4ff68784f62525fbee8dd9d0584e2c1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t <a class="el" href="class_a_d_s7828_channel.html#af4ff68784f62525fbee8dd9d0584e2c1">ADS7828Channel::sample</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return most-recent (unscaled) sample value from moving average array. </p>
<dl class="optional"><dt><b><a class="el" href="optional.html#_optional000003">Optional Function (Troubleshooting):</a></b></dt><dd>This function is for testing and troubleshooting. </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>sample value (0x0000..0xFFFF) </dd></dl>
<dl class="user"><dt><b>Usage:</b></dt><dd><div class="fragment"><pre class="fragment"> ...
 <a class="code" href="class_a_d_s7828.html">ADS7828</a> adc(0);
 <a class="code" href="class_a_d_s7828_channel.html">ADS7828Channel</a>* temperature = adc.<a class="code" href="class_a_d_s7828.html#a35fce229052d9e45b228e6d099658dcf" title="Return pointer to channel object.">channel</a>(0);
 uint16_t sampleValue = temperature-&gt;<a class="code" href="class_a_d_s7828_channel.html#af4ff68784f62525fbee8dd9d0584e2c1" title="Return most-recent (unscaled) sample value from moving average array.">sample</a>();
 ...
</pre></div> </dd></dl>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> <a class="code" href="class_a_d_s7828_channel.html#a325a0244f06bcee456c98133019a8484" title="Array of (unscaled) sample values.">samples_</a>[<a class="code" href="class_a_d_s7828_channel.html#a34219ddd59e982d32562f094292b5274" title="Index position within moving average array.">index_</a>];
}
</pre></div>
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_d_s7828_channel_af4ff68784f62525fbee8dd9d0584e2c1_icgraph.png" border="0" usemap="#class_a_d_s7828_channel_af4ff68784f62525fbee8dd9d0584e2c1_icgraph" alt=""/></div>
<map name="class_a_d_s7828_channel_af4ff68784f62525fbee8dd9d0584e2c1_icgraph" id="class_a_d_s7828_channel_af4ff68784f62525fbee8dd9d0584e2c1_icgraph">
<area shape="rect" id="node3" href="class_a_d_s7828_channel.html#ab5701f667bfdb461f304805ae760d3c6" title="Add (unscaled) sample value to moving average array, update totalizer." alt="" coords="243,5,459,35"/><area shape="rect" id="node5" href="class_a_d_s7828.html#a825149c18833c4aa25ebf0f08a75379d" title="Initiate communication with device." alt="" coords="508,5,641,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad9204ca49ffa28e0ea681651a7afcf88"></a><!-- doxytag: member="ADS7828Channel::start" ref="ad9204ca49ffa28e0ea681651a7afcf88" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="class_a_d_s7828_channel.html#ad9204ca49ffa28e0ea681651a7afcf88">ADS7828Channel::start</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initiate A/D conversion for channel object. </p>
<dl class="optional"><dt><b><a class="el" href="optional.html#_optional000004">Optional Function (Troubleshooting):</a></b></dt><dd>This function is for testing and troubleshooting. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>Determine whether this function is needed. </dd></dl>
<dl class="retval"><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">1</td><td>length too long for buffer </td></tr>
    <tr><td class="paramname">2</td><td>address send, NACK received <b>(device not on bus)</b> </td></tr>
    <tr><td class="paramname">3</td><td>data send, NACK received </td></tr>
    <tr><td class="paramname">4</td><td>other twi error (lost bus arbitration, bus error, ...) </td></tr>
  </table>
  </dd>
</dl>
<dl class="user"><dt><b>Usage:</b></dt><dd><div class="fragment"><pre class="fragment"> ...
 <a class="code" href="class_a_d_s7828.html">ADS7828</a> adc(0);
 <a class="code" href="class_a_d_s7828_channel.html">ADS7828Channel</a>* temperature = adc.<a class="code" href="class_a_d_s7828.html#a35fce229052d9e45b228e6d099658dcf" title="Return pointer to channel object.">channel</a>(0);
 uint8_t status = temperature-&gt;<a class="code" href="class_a_d_s7828_channel.html#ad9204ca49ffa28e0ea681651a7afcf88" title="Initiate A/D conversion for channel object.">start</a>();
 ...
</pre></div> </dd></dl>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> <a class="code" href="class_a_d_s7828_channel.html#a00e469ff13dcaa5fa9f647ca9165cf94" title="Pointer to parent device object.">device_</a>-&gt;<a class="code" href="class_a_d_s7828.html#abfffd6e7cc6f187a364254813dd25502" title="Initiate communication with device.">start</a>(<span class="keywordtype">id</span>());
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_d_s7828_channel_ad9204ca49ffa28e0ea681651a7afcf88_cgraph.png" border="0" usemap="#class_a_d_s7828_channel_ad9204ca49ffa28e0ea681651a7afcf88_cgraph" alt=""/></div>
<map name="class_a_d_s7828_channel_ad9204ca49ffa28e0ea681651a7afcf88_cgraph" id="class_a_d_s7828_channel_ad9204ca49ffa28e0ea681651a7afcf88_cgraph">
<area shape="rect" id="node3" href="class_a_d_s7828.html#abfffd6e7cc6f187a364254813dd25502" title="Initiate communication with device." alt="" coords="227,5,347,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa0d1f73c4445a115f717b6c8b7f5e000"></a><!-- doxytag: member="ADS7828Channel::total" ref="aa0d1f73c4445a115f717b6c8b7f5e000" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t <a class="el" href="class_a_d_s7828_channel.html#aa0d1f73c4445a115f717b6c8b7f5e000">ADS7828Channel::total</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return (unscaled) totalizer value for channel object. </p>
<dl class="optional"><dt><b><a class="el" href="optional.html#_optional000005">Optional Function (Troubleshooting):</a></b></dt><dd>This function is for testing and troubleshooting. </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>totalizer value (0x0000..0xFFFF) </dd></dl>
<dl class="user"><dt><b>Usage:</b></dt><dd><div class="fragment"><pre class="fragment"> ...
 <a class="code" href="class_a_d_s7828.html">ADS7828</a> adc(0);
 <a class="code" href="class_a_d_s7828_channel.html">ADS7828Channel</a>* temperature = adc.<a class="code" href="class_a_d_s7828.html#a35fce229052d9e45b228e6d099658dcf" title="Return pointer to channel object.">channel</a>(0);
 uint16_t totalValue = temperature-&gt;<a class="code" href="class_a_d_s7828_channel.html#aa0d1f73c4445a115f717b6c8b7f5e000" title="Return (unscaled) totalizer value for channel object.">total</a>();
 ...
</pre></div> </dd></dl>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> <a class="code" href="class_a_d_s7828_channel.html#ad59c1575c352dbbf4f82ed64f39be03e" title="(Unscaled) running total of moving average array elements.">total_</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a19e8ecf99f6c3847c7f26cf2157758b6"></a><!-- doxytag: member="ADS7828Channel::update" ref="a19e8ecf99f6c3847c7f26cf2157758b6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="class_a_d_s7828_channel.html#a19e8ecf99f6c3847c7f26cf2157758b6">ADS7828Channel::update</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initiate A/D conversion, read data, update moving average for channel object. </p>
<dl class="optional"><dt><b><a class="el" href="optional.html#_optional000006">Optional Function (Troubleshooting):</a></b></dt><dd>This function is for testing and troubleshooting. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>Determine whether this function is needed. </dd></dl>
<dl class="retval"><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">1</td><td>length too long for buffer </td></tr>
    <tr><td class="paramname">2</td><td>address send, NACK received <b>(device not on bus)</b> </td></tr>
    <tr><td class="paramname">3</td><td>data send, NACK received </td></tr>
    <tr><td class="paramname">4</td><td>other twi error (lost bus arbitration, bus error, ...) </td></tr>
  </table>
  </dd>
</dl>
<dl class="user"><dt><b>Usage:</b></dt><dd><div class="fragment"><pre class="fragment"> ...
 <a class="code" href="class_a_d_s7828.html">ADS7828</a> adc(0);
 <a class="code" href="class_a_d_s7828_channel.html">ADS7828Channel</a>* temperature = adc.<a class="code" href="class_a_d_s7828.html#a35fce229052d9e45b228e6d099658dcf" title="Return pointer to channel object.">channel</a>(0);
 uint8_t status = temperature-&gt;<a class="code" href="class_a_d_s7828_channel.html#a19e8ecf99f6c3847c7f26cf2157758b6" title="Initiate A/D conversion, read data, update moving average for channel object.">update</a>();
 ...
</pre></div> </dd></dl>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="class_a_d_s7828_channel.html#a00e469ff13dcaa5fa9f647ca9165cf94" title="Pointer to parent device object.">device_</a>-&gt;<a class="code" href="class_a_d_s7828.html#a6dba71b1fcec938220cb95080956d111" title="Update all unmasked channels on device.">update</a>(<span class="keywordtype">id</span>());
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_d_s7828_channel_a19e8ecf99f6c3847c7f26cf2157758b6_cgraph.png" border="0" usemap="#class_a_d_s7828_channel_a19e8ecf99f6c3847c7f26cf2157758b6_cgraph" alt=""/></div>
<map name="class_a_d_s7828_channel_a19e8ecf99f6c3847c7f26cf2157758b6_cgraph" id="class_a_d_s7828_channel_a19e8ecf99f6c3847c7f26cf2157758b6_cgraph">
<area shape="rect" id="node3" href="class_a_d_s7828.html#a6dba71b1fcec938220cb95080956d111" title="Update all unmasked channels on device." alt="" coords="241,5,375,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8b6c345cbe33c2444cf12f736d8d61da"></a><!-- doxytag: member="ADS7828Channel::value" ref="a8b6c345cbe33c2444cf12f736d8d61da" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t <a class="el" href="class_a_d_s7828_channel.html#a8b6c345cbe33c2444cf12f736d8d61da">ADS7828Channel::value</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return moving average value for channel object. </p>
<dl class="required"><dt><b><a class="el" href="required.html#_required000001">Required Function:</a></b></dt><dd>This is the most commonly-used channel function. </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>scaled value (0x0000..0xFFFF) </dd></dl>
<dl class="user"><dt><b>Usage:</b></dt><dd><div class="fragment"><pre class="fragment"> ...
 <a class="code" href="class_a_d_s7828.html">ADS7828</a> adc(0);
 <a class="code" href="class_a_d_s7828_channel.html">ADS7828Channel</a>* temperature = adc.<a class="code" href="class_a_d_s7828.html#a35fce229052d9e45b228e6d099658dcf" title="Return pointer to channel object.">channel</a>(0);
 uint16_t ambient = temperature-&gt;<a class="code" href="class_a_d_s7828_channel.html#a8b6c345cbe33c2444cf12f736d8d61da" title="Return moving average value for channel object.">value</a>();
 ...
</pre></div> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="examples_2one_device_2one_device_8pde-example.html#a10">examples/one_device/one_device.pde</a>, and <a class="el" href="examples_2two_devices_2two_devices_8pde-example.html#a11">examples/two_devices/two_devices.pde</a>.</dd>
</dl><div class="fragment"><pre class="fragment">{
  uint16_t r = (<a class="code" href="class_a_d_s7828_channel.html#ad59c1575c352dbbf4f82ed64f39be03e" title="(Unscaled) running total of moving average array elements.">total_</a> &gt;&gt; <a class="code" href="class_a_d_s7828_channel.html#ac97c771263d85e4bb2f75ae9c27d624f" title="Quantity of samples to be averaged = 2^MOVING_AVERAGE_BITS_.">MOVING_AVERAGE_BITS_</a>);
  <span class="keywordflow">return</span> map(r, DEFAULT_MIN_SCALE, DEFAULT_MAX_SCALE, <a class="code" href="class_a_d_s7828_channel.html#adf47f9130c1abc7873e62fd4abf0ee8c" title="Minimum value of moving average (defaults to 0x0000).">minScale</a>, <a class="code" href="class_a_d_s7828_channel.html#a102c9efc602e060bced99d7d41b4fd90" title="Maximum value of moving average (defaults to 0x0FFF).">maxScale</a>);
}
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a102c9efc602e060bced99d7d41b4fd90"></a><!-- doxytag: member="ADS7828Channel::maxScale" ref="a102c9efc602e060bced99d7d41b4fd90" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t <a class="el" href="class_a_d_s7828_channel.html#a102c9efc602e060bced99d7d41b4fd90">ADS7828Channel::maxScale</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Maximum value of moving average (defaults to 0x0FFF). </p>
<dl class="user"><dt><b>Usage:</b></dt><dd><div class="fragment"><pre class="fragment"> ...
 <a class="code" href="class_a_d_s7828.html">ADS7828</a> <a class="code" href="class_a_d_s7828_channel.html#a23c4b3feb7906925490006c89a0bd6b8" title="Return pointer to parent device object.">device</a>(0);
 <a class="code" href="class_a_d_s7828_channel.html">ADS7828Channel</a>* temperature = <a class="code" href="class_a_d_s7828_channel.html#a23c4b3feb7906925490006c89a0bd6b8" title="Return pointer to parent device object.">device</a>.<a class="code" href="class_a_d_s7828.html#a35fce229052d9e45b228e6d099658dcf" title="Return pointer to channel object.">channel</a>(0);
 uint16_t old = temperature-&gt;<a class="code" href="class_a_d_s7828_channel.html#a102c9efc602e060bced99d7d41b4fd90" title="Maximum value of moving average (defaults to 0x0FFF).">maxScale</a>; <span class="comment">// get current value and/or</span>
 temperature-&gt;<a class="code" href="class_a_d_s7828_channel.html#a102c9efc602e060bced99d7d41b4fd90" title="Maximum value of moving average (defaults to 0x0FFF).">maxScale</a> = 100;          <span class="comment">// set new value</span>
 ...
</pre></div> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="examples_2one_device_2one_device_8pde-example.html#a8">examples/one_device/one_device.pde</a>, and <a class="el" href="examples_2two_devices_2two_devices_8pde-example.html#a13">examples/two_devices/two_devices.pde</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="adf47f9130c1abc7873e62fd4abf0ee8c"></a><!-- doxytag: member="ADS7828Channel::minScale" ref="adf47f9130c1abc7873e62fd4abf0ee8c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t <a class="el" href="class_a_d_s7828_channel.html#adf47f9130c1abc7873e62fd4abf0ee8c">ADS7828Channel::minScale</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Minimum value of moving average (defaults to 0x0000). </p>
<dl class="user"><dt><b>Usage:</b></dt><dd><div class="fragment"><pre class="fragment"> ...
 <a class="code" href="class_a_d_s7828.html">ADS7828</a> <a class="code" href="class_a_d_s7828_channel.html#a23c4b3feb7906925490006c89a0bd6b8" title="Return pointer to parent device object.">device</a>(0);
 <a class="code" href="class_a_d_s7828_channel.html">ADS7828Channel</a>* temperature = <a class="code" href="class_a_d_s7828_channel.html#a23c4b3feb7906925490006c89a0bd6b8" title="Return pointer to parent device object.">device</a>.<a class="code" href="class_a_d_s7828.html#a35fce229052d9e45b228e6d099658dcf" title="Return pointer to channel object.">channel</a>(0);
 uint16_t old = temperature-&gt;<a class="code" href="class_a_d_s7828_channel.html#adf47f9130c1abc7873e62fd4abf0ee8c" title="Minimum value of moving average (defaults to 0x0000).">minScale</a>; <span class="comment">// get current value and/or</span>
 temperature-&gt;<a class="code" href="class_a_d_s7828_channel.html#adf47f9130c1abc7873e62fd4abf0ee8c" title="Minimum value of moving average (defaults to 0x0000).">minScale</a> = 0;            <span class="comment">// set new value</span>
 ...
</pre></div> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="examples_2one_device_2one_device_8pde-example.html#a7">examples/one_device/one_device.pde</a>, and <a class="el" href="examples_2two_devices_2two_devices_8pde-example.html#a12">examples/two_devices/two_devices.pde</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a325a0244f06bcee456c98133019a8484"></a><!-- doxytag: member="ADS7828Channel::samples_" ref="a325a0244f06bcee456c98133019a8484" args="[1&lt;&lt; 4]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t <a class="el" href="class_a_d_s7828_channel.html#a325a0244f06bcee456c98133019a8484">ADS7828Channel::samples_</a>[1&lt;&lt; 4]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Array of (unscaled) sample values. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Bit shift must match <a class="el" href="class_a_d_s7828_channel.html#ac97c771263d85e4bb2f75ae9c27d624f">MOVING_AVERAGE_BITS_</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="ac97c771263d85e4bb2f75ae9c27d624f"></a><!-- doxytag: member="ADS7828Channel::MOVING_AVERAGE_BITS_" ref="ac97c771263d85e4bb2f75ae9c27d624f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t <a class="el" href="class_a_d_s7828_channel.html#ac97c771263d85e4bb2f75ae9c27d624f">ADS7828Channel::MOVING_AVERAGE_BITS_</a> = 4<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Quantity of samples to be averaged = 2^MOVING_AVERAGE_BITS_. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>MOVING_AVERAGE_BITS_ must match <a class="el" href="class_a_d_s7828_channel.html#a325a0244f06bcee456c98133019a8484">samples_</a> bit shift. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="i2c__adc__ads7828_8h_source.html">i2c_adc_ads7828.h</a></li>
<li>i2c_adc_ads7828.cpp</li>
</ul>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="class_a_d_s7828_channel.html">ADS7828Channel</a>      </li>

    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
